"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t,r=require("react/jsx-runtime"),n=require("react"),i=require("@mui/material"),o=require("@mui/material/colors"),a=require("tss-react/mui"),s=require("@emotion/react");(e=exports.Direction||(exports.Direction={})).Left="left",e.Right="right",(t=exports.Variant||(exports.Variant={})).Fill="fill",t.Empty="empty";var l,u=function(e){var t=e.duration,r=e.onTick,i=void 0===r?function(){}:r,o=e.onFinish,a=void 0===o?function(){}:o,s=n.useState(t),l=s[0],u=s[1],c=n.useState(),d=c[0],f=c[1],m=Boolean(d&&l),h=n.useRef();n.useEffect((function(){h.current={onTick:i,onFinish:a}}),[i,a]);var p=function(){u(t);var e=setInterval((function(){var t;null==(t=h.current)||null==t.onTick||t.onTick(),u((function(t){var r,n=t-1;return n||(clearInterval(e),null==(r=h.current)||null==r.onFinish||r.onFinish()),n}))}),1e3);f(e)},v=function(){clearInterval(d),f(void 0)};return n.useEffect((function(){l||p()}),[d]),n.useEffect((function(){return function(){return clearInterval(d)}}),[]),{time:l,timer:d,isRunning:m,start:p,stop:v,restart:function(){u(0),v()}}},c=function(e){return e?4:0},d=a.makeStyles()((function(e,t){var r,n,o=t.color,a=t.rootRounded,u=t.barRounded;return{root:{width:"100%",borderRadius:c(a)},progressContainer:{flex:1,position:"relative",overflowX:"hidden",borderRadius:c(a),backgroundColor:i.alpha(o,.4)},progress:{zIndex:1,inset:0,position:"absolute",transformOrigin:"left center",backgroundColor:o,borderRadius:c(u)},textContainer:{boxSizing:"border-box",position:"relative",height:"4em",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:4,margin:8,overflowY:"hidden",fontWeight:500},label:{lineHeight:"normal",letterSpacing:"0.0285em",fontWeight:"inherit",fontSize:"0.9em",transition:"transform 300ms cubic-bezier(0, 0, 0.2, 1) 0ms"},time:{fontWeight:"inherit",fontSize:"2em",lineHeight:1},finished:{animation:s.keyframes(l||(r=["\n        0% {\n          opacity: 0.8;\n          background-color: orangered;\n        }\n        "],n||(n=r.slice(0)),r.raw=n,l=r))+" 1s 5"}}})),f=function(e){return(""+e).padStart(2,"0")};exports.default=n.forwardRef((function(e,t){var a,s,l,c,m,h,p,v,x,g=e.direction,b=void 0===g?exports.Direction.Right:g,y=e.variant,R=void 0===y?exports.Variant.Fill:y,S=e.color,j=e.fontColor,k=void 0===j?"#ffffffd9":j,F=e.duration,C=void 0===F?60:F,z=e.label,D=void 0===z?"":z,E=e.buttonText,I=void 0===E?"":E,T=e.classes,q=e.fontSize,w=e.showDuration,M=void 0!==w&&w,N=e.rootRounded,V=e.barRounded,B=e.started,O=e.formatWithDays,W=void 0===O||O,H=e.onFinish,L=void 0===H?function(){}:H,X=d({color:void 0===S?o.blue[700]:S,rootRounded:void 0===N||N,barRounded:void 0!==V&&V},{props:{classes:void 0===T?{}:T}}),_=X.classes,P=X.cx,Y=u({duration:C,onFinish:function(){return L(D||I)}}),A=Y.time,G=Y.timer,J=Y.isRunning,K=Y.start,Q=Y.stop,U=Y.restart;return n.useImperativeHandle(t,(function(){return{start:K,stop:Q,restart:U}})),n.useEffect((function(){null!=B&&(B?G?U():K():Q())}),[B]),r.jsx(i.ButtonBase,{className:_.root,"aria-label":D,onClick:G?Q:K,children:r.jsxs("div",{className:P(_.progressContainer,(a={},a[_.finished]=!A&&R===exports.Variant.Empty,a)),children:[r.jsxs(i.Box,{className:_.textContainer,fontSize:q,color:k,children:[(D||I&&!G||!A)&&r.jsx(i.Typography,{className:_.label,sx:{transform:J||M?void 0:"scale(1.86)"},children:!J&&I?I:D}),r.jsx(i.Slide,{direction:"up",timeout:{enter:100,exit:70},in:M||J,mountOnEnter:!0,unmountOnExit:!0,children:r.jsx(i.Typography,{className:_.time,children:W?(m=A,h=Math.floor(m/86400),p=Math.floor(m%86400/3600),v=Math.floor(m%3600/60),x=Math.floor(m%60),(h>0?h+(1==h?" day, ":" days, "):"")+(p>0?p+(1==p?" hour, ":" hours, "):"")+(v>0?v+(1==v?" minute, ":" minutes, "):"")+(x>0?x+(1==x?" second":" seconds"):"")):f(Math.floor(A/60))+":"+f(A%60)})})]}),r.jsx("span",{className:P(_.progress,(s={},s[_.finished]=!A&&R===exports.Variant.Fill,s)),style:{transform:(c=Boolean(G)===(R===exports.Variant.Fill)?"0%":"100%","translateX("+(l=G?exports.Direction.Left:exports.Direction.Right,b===l?"-":"")+c+")"),transition:G?"transform "+C+"s linear 0s":void 0}})]})})})),exports.useTimer=u;
//# sourceMappingURL=react-progress-bar-timer.cjs.production.min.js.map
